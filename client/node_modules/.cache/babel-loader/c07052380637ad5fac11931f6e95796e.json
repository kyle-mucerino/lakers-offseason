{"ast":null,"code":"var _jsxFileName = \"/Users/kylemucerino/Desktop/lakersoffseason/client/src/components/ThoughtForm/index.js\";\nimport React, { useState, useRef } from \"react\";\nconst ThoughtForm = () => {\n  const lakersFontStyle = {\n    fontFamily: \"Lakers Alt, sans-serif\",\n    color: \"#552583\"\n  };\n  const fileInput = useRef(null);\n  const [formState, setFormState] = useState({\n    username: \"\",\n    thought: \"\"\n  });\n  const [characterCount, setCharacterCount] = useState(0);\n\n  // update state based on form input changes\n  const handleChange = event => {\n    if (event.target.value.length <= 280) {\n      setFormState({\n        ...formState,\n        [event.target.name]: event.target.value\n      });\n      setCharacterCount(event.target.value.length);\n    }\n  };\n\n  // submit form\n  const handleFormSubmit = event => {\n    event.preventDefault();\n    const postData = async () => {\n      const res = await fetch(\"/api/users\", {\n        method: \"POST\",\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(formState)\n      });\n      const data = await res.json();\n      console.log(data);\n    };\n    postData();\n\n    // clear form value\n    setFormState({\n      username: \"\",\n      thought: \"\"\n    });\n    setCharacterCount(0);\n  };\n  const handleImageUpload = event => {\n    event.preventDefault();\n    const data = new FormData();\n    data.append(\"image\", fileInput.current.files[0]);\n    const postImage = async () => {\n      try {\n        const res = await fetch(\"/api/image-upload\", {\n          mode: \"cors\",\n          method: \"POST\",\n          body: data\n        });\n        console.log(\"After fetch\");\n        if (!res.ok) {}\n        console.log(\"Response not ok\");\n        throw new Error(res.statusText);\n        const postResponse = await res.json();\n        console.log(\"postResponse:, postResponse\");\n        setFormState({\n          ...formState,\n          image: postResponse.Location\n        });\n        return postResponse.Location;\n      } catch (error) {\n        console.log(\"Error\", error);\n      }\n    };\n    postImage();\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: `m-0 ${characterCount === 280 ? \"text-error\" : \"\"}`,\n    style: lakersFontStyle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }\n  }, \"Character Count: \", characterCount, \"/280\"), /*#__PURE__*/React.createElement(\"form\", {\n    className: \"flex-row justify-center justify-space-between-md align-stretch\",\n    onSubmit: handleFormSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    placeholder: \"Username\",\n    name: \"username\",\n    value: formState.username,\n    className: \"form-input col-12 \",\n    onChange: handleChange,\n    style: lakersFontStyle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"textarea\", {\n    placeholder: \"Here's what the Lakers should do and this is how they should do it...\",\n    name: \"thought\",\n    value: formState.thought,\n    className: \"form-input col-12 \",\n    onChange: handleChange,\n    style: lakersFontStyle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    className: \"form-input col-12  p-1\",\n    style: lakersFontStyle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 9\n    }\n  }, \"Cook something up in the trade machine? Screenshot it and attach below!\", /*#__PURE__*/React.createElement(\"input\", {\n    type: \"file\",\n    ref: fileInput,\n    className: \"form-input p-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn\",\n    onClick: handleImageUpload,\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 11\n    }\n  }, \"Upload\")), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn col-12 \",\n    type: \"submit\",\n    style: lakersFontStyle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 9\n    }\n  }, \"Submit\")));\n};\nexport default ThoughtForm;","map":{"version":3,"names":["React","useState","useRef","ThoughtForm","lakersFontStyle","fontFamily","color","fileInput","formState","setFormState","username","thought","characterCount","setCharacterCount","handleChange","event","target","value","length","name","handleFormSubmit","preventDefault","postData","res","fetch","method","headers","Accept","body","JSON","stringify","data","json","console","log","handleImageUpload","FormData","append","current","files","postImage","mode","ok","Error","statusText","postResponse","image","Location","error","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","className","style","onSubmit","placeholder","onChange","type","ref","onClick"],"sources":["/Users/kylemucerino/Desktop/lakersoffseason/client/src/components/ThoughtForm/index.js"],"sourcesContent":["import React, { useState, useRef } from \"react\";\n\nconst ThoughtForm = () => {\n  const lakersFontStyle = {\n    fontFamily: \"Lakers Alt, sans-serif\",\n    color: \"#552583\",\n  };\n  const fileInput = useRef(null);\n  const [formState, setFormState] = useState({\n    username: \"\",\n    thought: \"\"\n  });\n  const [characterCount, setCharacterCount] = useState(0);\n\n  // update state based on form input changes\n  const handleChange = (event) => {\n    if (event.target.value.length <= 280) {\n      setFormState({ ...formState, [event.target.name]: event.target.value });\n      setCharacterCount(event.target.value.length);\n    }\n  };\n\n  // submit form\n  const handleFormSubmit = (event) => {\n    event.preventDefault();\n\n    const postData = async () => {\n      const res = await fetch(\"/api/users\", {\n        method: \"POST\",\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(formState)\n      });\n      const data = await res.json();\n      console.log(data);\n    };\n    postData();\n\n    // clear form value\n    setFormState({ username: \"\", thought: \"\" });\n    setCharacterCount(0);\n  };\n\n  const handleImageUpload = (event) => {\n    event.preventDefault();\n    const data = new FormData();\n    data.append(\"image\", fileInput.current.files[0]);\n\n    const postImage = async () => {\n      try {\n        const res = await fetch(\"/api/image-upload\", {\n          mode: \"cors\",\n          method: \"POST\",\n          body: data\n        });\n        console.log(\"After fetch\");\n\n        if (!res.ok) { }\n        console.log(\"Response not ok\");\n        throw new Error(res.statusText);\n        const postResponse = await res.json();\n        console.log(\"postResponse:, postResponse\");\n\n        setFormState({ ...formState, image: postResponse.Location });\n\n        return postResponse.Location;\n      } catch (error) {\n        console.log(\"Error\", error);\n      }\n    };\n    postImage();\n  };\n\n  return (\n    <div>\n      <p className={`m-0 ${characterCount === 280 ? \"text-error\" : \"\"}`} style={lakersFontStyle}>\n        Character Count: {characterCount}/280\n      </p>\n      <form\n        className=\"flex-row justify-center justify-space-between-md align-stretch\"\n        onSubmit={handleFormSubmit}\n      >\n        <input\n          placeholder=\"Username\"\n          name=\"username\"\n          value={formState.username}\n          className=\"form-input col-12 \"\n          onChange={handleChange}\n          style={lakersFontStyle}\n        ></input>\n        <textarea\n          placeholder=\"Here's what the Lakers should do and this is how they should do it...\"\n          name=\"thought\"\n          value={formState.thought}\n          className=\"form-input col-12 \"\n          onChange={handleChange}\n          style={lakersFontStyle}\n        ></textarea>\n        <label className=\"form-input col-12  p-1\" style={lakersFontStyle}>\n          Cook something up in the trade machine? Screenshot it and attach below!\n          <input type=\"file\" ref={fileInput} className=\"form-input p-2\" />\n          <button className=\"btn\" onClick={handleImageUpload} type=\"submit\">\n            Upload\n          </button>\n        </label>\n        <button className=\"btn col-12 \" type=\"submit\" style={lakersFontStyle}>\n          Submit\n        </button>\n      </form>\n    </div>\n  );\n};\n\nexport default ThoughtForm;"],"mappings":"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"},"metadata":{},"sourceType":"module"}